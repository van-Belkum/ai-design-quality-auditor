version: 2

allowlist:
  - singlemode
  - BBU
  - DCDU
  - Ericsson
  - Nokia
  - eNodeB
  - gNodeB
  - MIMO

mutual_exclusive:
  - { a: "Brush", b: "Generator Power" }

rules:
  - id: GLOBAL-DIM-NOTE
    category: Checklist
    when: {}
    checks:
      require_text:
        - "ALL DIMENSIONS IN MM"

  - id: EE-TITLE-BLOCK-DATE
    category: Data
    when:
      client: [BTEE]
      project: [RAN, Power Resilience]
    checks:
      on_page_contains: "Title:"
      require_regex:
        - "Date:\s*\d{2}\.\d{2}\.\d{4}"

  - id: EE-FORBID-PHRASE
    category: Consistency
    when:
      client: [BTEE]
    checks:
      forbid:
        - pattern: "by others as par"
          hint: "Did you mean 'by others as part'?"

  - id: NOKIA-CAB-OUTDOOR-LABEL
    category: Structural
    when:
      vendor: [Nokia]
      cabinet_loc: [Outdoor]
    checks:
      require_text:
        - "Outdoor-rated cabinet"

  - id: ERICSSON-ROOFTOP-TIEOFF
    category: Structural
    when:
      vendor: [Ericsson]
      site_type: [Rooftop]
    checks:
      require_text:
        - "Contractor tie-off point"
        - "Fall arrest system"

  - id: BEACON4-CONFIG-CALLOUT
    category: Checklist
    when:
      project: [Beacon 4]
    checks:
      require_regex:
        - "Config(uration)?:\s*[A-Za-z0-9\-_/]+"

  - id: RADIO-HIGHLEVEL-MIMO
    category: Electrical
    when:
      radio_loc: [High Level]
    checks:
      require_regex:
        - "MIMO:\s*(\d+x\d+|[1-8]x[1-8])"
